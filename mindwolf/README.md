# 智狼 (MindWolf) - AI狼人杀游戏

一款基于Tauri 2.x + Vue3 + TypeScript + Rust开发的AI狼人杀游戏，支持单人与多个AI进行策略博弈。

## 🎯 项目特色

- **先进的AI代理系统**: 基于大语言模型的智能AI，具备逻辑推理和策略博弈能力
- **语音交互功能**: 支持语音识别(ASR)和语音合成(TTS)，提供沉浸式游戏体验
- **完整的复盘系统**: 详细的游戏分析、AI决策记录和数据可视化
- **现代化架构**: 使用最新技术栈，确保性能和可维护性

## 🚀 技术栈

### 前端
- **Tauri 2.x**: 现代桌面应用框架
- **Vue 3**: 组合式API + TypeScript
- **Element Plus**: UI组件库
- **Pinia**: 状态管理
- **Vue Router**: 路由管理
- **Vite**: 构建工具

### 后端
- **Rust**: 高性能后端语言
- **SQLite**: 本地数据库
- **reqwest**: HTTP客户端
- **tokio**: 异步运行时
- **serde**: 序列化库

## 📋 核心功能

### 1. 游戏引擎
- 完整的狼人杀游戏规则实现
- 支持多种角色：村民、狼人、预言家、女巫、猎人、守卫等
- 灵活的游戏配置和规则定制

### 2. AI代理系统
- **推理引擎**: 基于贝叶斯网络的概率推理
- **策略引擎**: 智能决策和策略规划
- **NLP处理器**: 自然语言理解和生成
- **性格系统**: 多样化的AI性格特征

### 3. LLM集成
- 支持OpenAI兼容的API接口
- 完善的容错机制和重试逻辑
- 熔断器模式保证系统稳定性
- 灵活的配置管理

### 4. 语音功能
- **语音识别**: 实时语音转文字
- **语音合成**: 文字转语音播放
- **音频管理**: 录音、播放、设备管理
- **音频处理**: 降噪、增益控制等

### 5. 数据库系统
- SQLite本地数据库
- 游戏数据持久化
- 配置和历史记录存储
- 高效的数据查询和管理

### 6. 复盘系统
- **游戏记录**: 完整的游戏事件追踪
- **AI决策分析**: 详细的决策过程记录
- **数据可视化**: 图表和统计分析
- **导出功能**: 支持JSON、CSV、HTML格式

## 🛠️ 安装和运行

### 环境要求
- Node.js 18+
- Rust 1.70+
- pnpm/npm/yarn

### 安装依赖
```bash
# 安装前端依赖
npm install

# 安装Rust依赖
cd src-tauri
cargo build
```

### 开发模式
```bash
npm run tauri dev
```

### 构建生产版本
```bash
npm run tauri build
```

## 📁 项目结构

```
mindwolf/
├── src/                      # Vue前端源码
│   ├── components/           # 可复用组件
│   ├── views/               # 页面组件
│   ├── stores/              # Pinia状态管理
│   ├── types/               # TypeScript类型定义
│   └── api/                 # API接口
├── src-tauri/               # Tauri后端源码
│   ├── src/
│   │   ├── llm.rs          # LLM管理模块
│   │   ├── game_engine.rs  # 游戏引擎
│   │   ├── ai/             # AI代理系统
│   │   ├── database/       # 数据库层
│   │   ├── voice/          # 语音功能
│   │   └── replay.rs       # 复盘系统
│   └── Cargo.toml          # Rust依赖配置
└── package.json            # 前端依赖配置
```

## 🎮 游戏说明

### 基础玩法
1. 启动游戏，进入主界面
2. 点击"快速开始"或配置游戏设置
3. 与AI进行狼人杀对战
4. 游戏结束后可查看详细复盘

### 角色介绍
- **村民**: 好人阵营，白天参与讨论和投票
- **狼人**: 狼人阵营，夜晚可以杀害其他玩家
- **预言家**: 好人阵营，夜晚可以查验一名玩家身份
- **女巫**: 好人阵营，拥有解药和毒药各一瓶
- **猎人**: 好人阵营，死亡时可以带走一名玩家
- **守卫**: 好人阵营，夜晚可以守护一名玩家

## 🔧 配置说明

### LLM配置
在设置页面配置OpenAI兼容的API：
- API地址
- API密钥
- 模型名称
- 其他参数

### 语音配置
- 启用/禁用语音功能
- 选择音频设备
- 调整音量和参数

## 📈 性能优化

- 异步架构确保UI响应性
- 智能缓存减少API调用
- 数据库索引优化查询性能
- 内存管理和资源清理

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进项目。

### 开发流程
1. Fork项目
2. 创建功能分支
3. 提交代码
4. 创建Pull Request

## 📄 许可证

MIT License - 详见LICENSE文件

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- GitHub Issues
- 项目讨论区

---

智狼(MindWolf) - 让AI与人类智慧碰撞的狼人杀游戏 🐺🧠